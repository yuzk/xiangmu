"use strict";(self["webpackChunkvueshop2"]=self["webpackChunkvueshop2"]||[]).push([[747],{89:function(e,a){a.Z=(e,a)=>{const t=e.__vccOpts||e;for(const[o,l]of a)t[o]=l;return t}},7747:function(e,a,t){t.r(a),t.d(a,{default:function(){return w}});t(6699);var o=t(3396),l=t(4870),r=t(7178),s=t(8718),d=t(2483);const n=(0,o.Uk)("查询订单"),u=(0,o.Uk)("删除订单");var i={__name:"queryOrder",setup(e){const a=(0,d.tv)(),t=(0,o.f3)("$axios"),i=(0,s.H)();let p="";const c=(0,l.iH)(""),w=(0,o.Fl)((()=>i.dataa.filter((e=>!c.value||e.outTradeNo.toLowerCase().includes(c.value.toLowerCase()))))),b=async e=>{const{data:a}=await t.post("/delOrder",{outTradeNo:e});"删除成功！"==a.code&&((0,r.z8)({showClose:!0,message:a.code,type:"success"}),queryall())};async function m(e){const{data:a}=await t.get(`/query?outTradeNo=${e}`);(0,r.z8)({showClose:!0,message:a.code,type:"warning"})}f();const h=(0,o.f3)("$axios");function f(){p=setInterval((async()=>{const{data:e}=await h.get("/queryOrder");if(0===e.code.length)return clearInterval(p),(0,r.z8)({showClose:!0,message:"没有权限",type:"warning"}),a.push("/home");i.setDataa(e.code)}),2e3)}return(0,o.Ah)((()=>{clearInterval(p)})),(e,a)=>{const t=(0,o.up)("el-table-column"),r=(0,o.up)("el-input"),s=(0,o.up)("el-button"),d=(0,o.up)("el-table");return(0,o.wg)(),(0,o.j4)(d,{data:(0,l.SU)(w),style:{width:"100%"},border:"","show-summary":""},{default:(0,o.w5)((()=>[(0,o.Wm)(t,{label:"id",prop:"id",width:"80",sortable:""}),(0,o.Wm)(t,{label:"创建时间",prop:"createTime",width:"160",sortable:""}),(0,o.Wm)(t,{label:"用户Id",prop:"userId",width:"110",sortable:""}),(0,o.Wm)(t,{label:"商品Id",prop:"goodid",width:"150",sortable:""}),(0,o.Wm)(t,{label:"订单编号",prop:"outTradeNo",width:"130",sortable:""}),(0,o.Wm)(t,{label:"支付时间",prop:"send_pay_date",width:"150",sortable:""}),(0,o.Wm)(t,{label:"总价",prop:"total",width:"100",sortable:""}),(0,o.Wm)(t,{label:"地址",prop:"adress",width:"230",sortable:""}),(0,o.Wm)(t,{label:"优惠券",prop:"isCoupon",width:"150",sortable:""}),(0,o.Wm)(t,{label:"是否删除",prop:"isDel",width:"140",sortable:""}),(0,o.Wm)(t,{label:"订单是否Vip",prop:"hVip",width:"140",sortable:""}),(0,o.Wm)(t,{label:"订单是否有效",prop:"isAvailable",width:"140",sortable:""}),(0,o.Wm)(t,{width:"230"},{header:(0,o.w5)((()=>[(0,o.Wm)(r,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),size:"small",placeholder:"查询订单编号"},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o.Wm)(s,{size:"small",onClick:a=>m(e.row.outTradeNo)},{default:(0,o.w5)((()=>[n])),_:2},1032,["onClick"]),(0,o.Wm)(s,{size:"small",type:"danger",onClick:a=>b(e.row.outTradeNo)},{default:(0,o.w5)((()=>[u])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])}}},p=t(89);const c=(0,p.Z)(i,[["__scopeId","data-v-7aa21556"]]);var w=c}}]);